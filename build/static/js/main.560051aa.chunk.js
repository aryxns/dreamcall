(this.webpackJsonpdreamcall=this.webpackJsonpdreamcall||[]).push([[0],{45:function(e,t,a){},46:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),c=a(36),r=a.n(c),o=(a(45),a(46),a(13)),i=a(24);i.a.initializeApp({apiKey:"AIzaSyAg5VBWrSZH6meUrgoKhxZhG6NzFVZt4vg",authDomain:"dream-call-69697.firebaseapp.com",projectId:"dream-call-69697",storageBucket:"dream-call-69697.appspot.com",messagingSenderId:"456653716091",appId:"1:456653716091:web:67fd5884de10b5176b40de",measurementId:"G-T0DH4WYHZP"});var l=i.a,m=a(10),u=a.n(m),d=(a(18),a(2));var x=function(){var e=s.a.useState(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=new l.auth.TwitterAuthProvider;return Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{}),Object(d.jsxs)("div",{className:"content-start text-white font-mono text-left",children:[Object(d.jsx)("h1",{className:"m-10 text-2xl",children:Object(d.jsx)("span",{className:"p-2 bg-gray-900",children:"Dream.Call"})}),Object(d.jsx)("p",{className:"ml-10 text-xl  text-black",children:"asking for meetings over twitter DMs sucks \ud83d\ude21"}),Object(d.jsx)("p",{className:"ml-10 text-xl  text-black",children:"if you follow someone and they follow you back, you can send them a meeting request and book a 15-min meeting with them \ud83d\ude00"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)("input",{className:"ml-10 h-14 border p-2 text-black",placeholder:"calendly link",onChange:function(e){return n(e.target.value)},type:"link"}),Object(d.jsx)("button",{onClick:function(){l.auth().signInWithPopup(c).then((function(e){var t=e.credential.accessToken,n=e.additionalUserInfo.profile.description,s=e.additionalUserInfo.username,c=e.user.displayName;localStorage.setItem("username",s),localStorage.setItem("token",t),l.firestore().collection("users").doc(s).set({bio:n,name:c,requests:[],username:s,link:a}).then(m.store.addNotification({title:"Account Created Successfully!",message:"redirecting to home page",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(window.location.href="/home")}))},className:"ml-5 h-14",children:Object(d.jsx)("span",{className:"font-bold lowercase p-4 bg-blue-400",children:"Get in with Twitter"})})]})]})]})},h=a(39),j=a(8),b=a(12),f=a.n(b),p=a(15),O=a(37),g=a.n(O);var N=function(){var e=localStorage.getItem("username"),t=s.a.useState(""),a=Object(o.a)(t,2),n=a[0],c=a[1],r=s.a.useState("N"),i=Object(o.a)(r,2),x=i[0],h=i[1],j=s.a.useState([]),b=Object(o.a)(j,2),O=b[0],N=b[1];function k(t){var a={source:e,target:String(t)};g.a.post("https://dcappapi.vercel.app/api/query",a).then((function(a){"successful!"===a.data&&(h("Y"),function(t){if("Y"===x){var a=l.firestore.FieldValue.arrayUnion;l.firestore().collection("users").doc(t).update({requests:a(e)}).then(m.store.addNotification({title:"Request Sent!",message:"check your meetings page for updates",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}}))}}(t))}))}return console.log(x),s.a.useEffect((function(){(function(){var t=Object(p.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=l.firestore(),a.collection("users").doc(e).get().then((function(e){c(e.data().name)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),s.a.useEffect((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.firestore(),e.next=3,t.collection("users").get();case 3:a=e.sent,N(a.docs.map((function(e){return e.data()})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{}),Object(d.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(d.jsx)("a",{href:"/home",className:"text-2xl",children:Object(d.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})}),Object(d.jsx)("a",{href:"/home",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"bg-gray-200 p-2",children:"Home"})}),Object(d.jsx)("a",{href:"/requests",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Requests"})}),Object(d.jsx)("a",{href:"/bookings",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Bookings"})})]}),Object(d.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(d.jsxs)("h1",{className:"mt-10 text-2xl text-black",children:["Welcome ",n,"!"]}),Object(d.jsx)("p",{className:"mt-3 text-black text-lg",children:"Explore a few profiles below and book your first call today :)"})]}),O.map((function(e){return Object(d.jsxs)("div",{className:"p-3 content-start m-10 font-mono text-left bg-gray-100 rounded-2xl text-black",children:[Object(d.jsxs)("h1",{className:"text-xl",children:[e.name," (",Object(d.jsxs)("a",{className:"text-blue-900",href:"https://twitter.com/".concat(e.username),children:["@",e.username]}),")"]}),Object(d.jsx)("h1",{className:"text-sm text-gray-900",children:e.bio}),Object(d.jsx)("button",{className:"mt-3 p-1 rounded-lg bg-blue-200",onClick:function(){return k(e.username)},children:Object(d.jsx)("span",{className:"text-gray-900",children:"chat"})})]})}))]})};var k=function(){var e=s.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("username"),r=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.firestore(),t.collection("users").doc(c).get().then((function(e){n(e.data().requests)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.useEffect((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.firestore(),t.collection("users").doc(c).get().then((function(e){n(e.data().requests)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{}),Object(d.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(d.jsx)("a",{href:"/home",className:"text-2xl",children:Object(d.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})}),Object(d.jsx)("a",{href:"/home",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Home"})}),Object(d.jsx)("a",{href:"/requests",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"bg-gray-200 p-2",children:"Requests"})}),Object(d.jsx)("a",{href:"/bookings",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Bookings"})})]}),Object(d.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(d.jsx)("h1",{className:"mt-10 text-2xl text-black",children:"Your Requests"}),Object(d.jsx)("p",{className:"mt-3 text-black text-sm text-gray-400",children:"don't see anything here? wait for sometime to receive requests"})]}),a.map((function(e){return Object(d.jsxs)("div",{className:"font-mono m-10 h-20 bg-gray-100 rounded-2xl",children:[Object(d.jsx)("div",{className:"float-left",children:Object(d.jsxs)("h1",{className:"m-3 pt-3 ml-11 font-bold text-lg",children:[e," has requested you for a call."]})}),Object(d.jsxs)("div",{className:"float-right p-2 mr-11",children:[Object(d.jsx)("button",{className:"m-3 text-white bg-green-400 rounded-xl p-2",onClick:function(){return function(e){var t=l.firestore.FieldValue.arrayRemove,a=l.firestore.FieldValue.arrayUnion,n=l.firestore();n.collection("users").doc(e).update({bookings:a(c)}).then(n.collection("users").doc(c).update({requests:t(e)})).then(m.store.addNotification({title:"Request Accepted!",message:"We'll share your calendly link with this user",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(r)}(e)},children:"accept"}),Object(d.jsx)("button",{className:"bg-red-400 text-white rounded-xl p-2",onClick:function(){return function(e){var t=l.firestore.FieldValue.arrayRemove;l.firestore().collection("users").doc(c).update({requests:t(e)}).then(m.store.addNotification({title:"Request Denied!",message:"Don't worry, the requester won't know you denied their call",type:"danger",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(r)}(e)},children:"deny"})]})]})}))]})};var v=function(){var e=localStorage.getItem("username"),t=s.a.useState([]),a=Object(o.a)(t,2),n=a[0],c=a[1];return s.a.useEffect((function(){(function(){var t=Object(p.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=l.firestore(),a.collection("users").doc(e).get().then((function(e){c(e.data().bookings)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{}),Object(d.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(d.jsx)("a",{href:"/home",className:"text-2xl",children:Object(d.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})}),Object(d.jsx)("a",{href:"/home",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Home"})}),Object(d.jsx)("a",{href:"/requests",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"p-2",children:"Requests"})}),Object(d.jsx)("a",{href:"/bookings",className:"ml-11 text-black text-xl",children:Object(d.jsx)("span",{className:"bg-gray-200 p-2",children:"Bookings"})})]}),Object(d.jsxs)("div",{className:"content-start text-white font-mono text-left",children:[Object(d.jsx)("h1",{className:"ml-10 text-2xl text-black",children:"Bookings"}),Object(d.jsx)("p",{className:"mt-3 text-black text-sm text-gray-400 ml-10",children:"When people accept your meeting requests, you'll see links to book meetings on this page."})]}),Object(d.jsx)("div",{className:"mt-10 content-start text-black font-mono text-left",children:n.map((function(e){return Object(d.jsxs)("button",{onClick:function(){return t=e,void l.firestore().collection("users").doc(t).get().then((function(e){window.location=e.data().link}));var t},className:"bg-gray-50 underline p-2 text-lg ml-10",children:["Yay! ",Object(d.jsx)("span",{className:"text-blue-600",children:e})," has accepted your request, click here to book a meeting now."]})}))})]})};var y=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{path:"/",component:x,exact:!0}),Object(d.jsx)(j.a,{path:"/home",component:N}),Object(d.jsx)(j.a,{path:"/requests",component:k}),Object(d.jsx)(j.a,{path:"/bookings",component:v})]})})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};a(92);r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),w()}},[[93,1,2]]]);
//# sourceMappingURL=main.560051aa.chunk.js.map