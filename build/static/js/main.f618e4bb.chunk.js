(this.webpackJsonpdreamcall=this.webpackJsonpdreamcall||[]).push([[0],{45:function(e,t,a){},46:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),c=a(36),r=a.n(c),o=(a(45),a(46),a(11)),i=a(24);i.a.initializeApp({apiKey:"AIzaSyAg5VBWrSZH6meUrgoKhxZhG6NzFVZt4vg",authDomain:"dream-call-69697.firebaseapp.com",projectId:"dream-call-69697",storageBucket:"dream-call-69697.appspot.com",messagingSenderId:"456653716091",appId:"1:456653716091:web:67fd5884de10b5176b40de",measurementId:"G-T0DH4WYHZP"});var l=i.a,m=a(9),d=a.n(m),u=(a(18),a(2));var h=function(){var e,t=s.a.useState(""),a=Object(o.a)(t,2),n=a[0],c=a[1],r=s.a.useState(""),i=Object(o.a)(r,2),h=i[0],x=i[1],j=s.a.useState(""),f=Object(o.a)(j,2),b=f[0],p=f[1],g=s.a.useState(!1),O=Object(o.a)(g,2),N=O[0],v=O[1],k=s.a.useState(""),w=Object(o.a)(k,2),y=w[0],_=w[1];return e=!1===N?null:Object(u.jsx)("button",{onClick:function(){var e=l.firestore(),t=String(h);console.log(n),console.log(b),console.log(y);var a={username:t,bio:b,name:y,bookings:[],requests:[],link:n};e.collection("Users").doc(t).set(a).then((function(){return console.log("Account Done!")})).then(m.store.addNotification({title:"Account Created!",message:"Redirecting to home page",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(window.location.href="/home")},className:"mt-5 ml-10 h-14",children:Object(u.jsx)("span",{className:"font-bold lowercase p-4 bg-green-400",children:"GET IN"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{}),Object(u.jsxs)("div",{className:"content-start text-white font-mono text-left",children:[Object(u.jsxs)("h1",{className:"m-10 text-2xl",children:[Object(u.jsx)("span",{className:"p-2 bg-gray-900",children:"Dream.Call"}),Object(u.jsx)("button",{onClick:function(){var e=new l.auth.TwitterAuthProvider;l.auth().signInWithPopup(e).then((function(e){var t=l.firestore(),a=e.additionalUserInfo.username;t.collection("Users").get().then((function(e){var t=e.docs.map((function(e){return e.data().username}));console.log(t),!0===t.includes(a)?(localStorage.setItem("username",a),window.location.href="/home"):m.store.addNotification({title:"Account Dosen't Exists!",message:"Please verify twitter and create an account",type:"danger",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}))}))},className:"ml-20 underline text-black",children:"LOGIN"})]}),Object(u.jsx)("p",{className:"ml-10 text-xl  text-black",children:"asking for meetings over twitter DMs sucks \ud83d\ude21"}),Object(u.jsx)("p",{className:"ml-10 text-xl  text-black",children:"if you follow someone and they follow you back, you can send them a meeting request and book a 15-min meeting with them \ud83d\ude00"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"",children:Object(u.jsx)("input",{className:"ml-10 w-80 h-14 border p-2 text-black",placeholder:"calendly link",onChange:function(e){return c(e.target.value)},type:"link"})}),Object(u.jsx)("button",{onClick:function(){var e=new l.auth.TwitterAuthProvider;l.auth().signInWithPopup(e).then((function(e){var t=e.additionalUserInfo.profile.description,a=e.additionalUserInfo.username,n=e.user.displayName;console.log(a,t,n),x(a),p(t),_(n),localStorage.setItem("username",String(a))})).catch((function(e){e.code;var t=e.message;console.log(t);e.email,e.credential})).then((function(){return v(!0)})).then(m.store.addNotification({title:"Twitter Verified!",message:"Click GET IN to start calling",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}}))},className:"mt-5 ml-10 h-14",children:Object(u.jsx)("span",{className:"font-bold lowercase p-4 bg-blue-400",children:"verify twitter"})}),e]})]})},x=a(39),j=a(8),f=a(13),b=a.n(f),p=a(15),g=a(37),O=a.n(g);var N=function(){var e=localStorage.getItem("username");console.log(e);var t=s.a.useState(""),a=Object(o.a)(t,2),n=a[0],c=a[1],r=s.a.useState("N"),i=Object(o.a)(r,2),h=i[0],x=i[1],j=s.a.useState([]),f=Object(o.a)(j,2),g=f[0],N=f[1];function v(t){var a={source:e,target:String(t)};O.a.post("https://dcappapi.vercel.app/api/query",a).then((function(a){"successful!"===a.data&&(x("Y"),function(t){if("Y"===h){var a=l.firestore.FieldValue.arrayUnion;l.firestore().collection("Users").doc(t).update({requests:a(e)}).then(m.store.addNotification({title:"Request Sent!",message:"check your meetings page for updates",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}}))}}(t))}))}return console.log(h),s.a.useEffect((function(){(function(){var t=Object(p.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=l.firestore(),a.collection("Users").doc(e).get().then((function(e){c(e.data().name)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),s.a.useEffect((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.firestore(),e.next=3,t.collection("Users").get();case 3:a=e.sent,N(a.docs.map((function(e){return e.data()})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{}),Object(u.jsx)("div",{className:"content-start m-10 text-white font-mono text-left",children:Object(u.jsx)("a",{href:"/home",className:"text-2xl",children:Object(u.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})})}),Object(u.jsxs)("div",{className:"content-start text-left ml-10",children:[Object(u.jsx)("a",{href:"/home",className:"text-black text-xl",children:Object(u.jsx)("span",{className:"bg-gray-200 p-1",children:"Home"})}),Object(u.jsx)("a",{href:"/requests",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Requests"})}),Object(u.jsx)("a",{href:"/bookings",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Bookings"})})]}),Object(u.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(u.jsxs)("h1",{className:"mt-10 text-2xl text-black",children:["Welcome ",n,"!"]}),Object(u.jsx)("p",{className:"mt-3 text-black text-lg",children:"Explore a few profiles below and book your first call today :)"})]}),g.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"p-3 content-start font-mono m-10 mb-0 text-left bg-gray-100 shadow-xl border-2 text-black",children:Object(u.jsxs)("h1",{className:"text-xl",children:[e.name," (",Object(u.jsxs)("a",{className:"text-blue-900",href:"https://twitter.com/".concat(e.username),children:["@",e.username]}),")"]})}),Object(u.jsxs)("div",{className:"p-3 content-start m-10 mt-0 font-mono text-left bg-gray-100 shadow-xl border-2 text-black",children:[Object(u.jsx)("h1",{className:"text-sm text-gray-900",children:e.bio}),Object(u.jsx)("button",{className:"mt-3 p-1 border shadow-sm bg-blue-400",onClick:function(){return v(e.username)},children:Object(u.jsx)("span",{className:"text-white",children:"send chat request"})})]})]})}))]})};var v=function(){var e=s.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=localStorage.getItem("username"),r=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.firestore(),t.collection("Users").doc(c).get().then((function(e){n(e.data().requests)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.useEffect((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.firestore(),t.collection("Users").doc(c).get().then((function(e){n(e.data().requests)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{}),Object(u.jsx)("div",{className:"content-start m-10 text-white font-mono text-left",children:Object(u.jsx)("a",{href:"/home",className:"text-2xl",children:Object(u.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})})}),Object(u.jsxs)("div",{className:"content-start text-left w-80 m-10 ml-10",children:[Object(u.jsx)("a",{href:"/home",className:"text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Home"})}),Object(u.jsx)("a",{href:"/requests",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"bg-gray-200 p-1",children:"Requests"})}),Object(u.jsx)("a",{href:"/bookings",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Bookings"})})]}),Object(u.jsxs)("div",{className:"content-start m-10 text-white font-mono text-left",children:[Object(u.jsx)("h1",{className:"mt-10 text-2xl text-black",children:"Your Requests"}),Object(u.jsx)("p",{className:"mt-3 text-black text-sm text-gray-400",children:"don't see anything here? wait for sometime to receive requests"})]}),a.map((function(e){return Object(u.jsxs)("div",{className:"font-mono m-10 h-32 bg-gray-100 shadow-xl",children:[Object(u.jsx)("div",{className:"content-start text-left",children:Object(u.jsxs)("h1",{className:"m-3 pt-3 font-bold text-lg",children:[e," has requested you for a call."]})}),Object(u.jsx)("button",{className:"ml-2 float-left text-white shadow-xl bg-green-400 p-2",onClick:function(){return function(e){var t=l.firestore.FieldValue.arrayRemove,a=l.firestore.FieldValue.arrayUnion,n=l.firestore();n.collection("Users").doc(e).update({bookings:a(c)}).then(n.collection("Users").doc(c).update({requests:t(e)})).then(m.store.addNotification({title:"Request Accepted!",message:"We'll share your calendly link with this user",type:"success",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(r)}(e)},children:"accept"}),Object(u.jsx)("button",{className:"ml-2 float-left bg-red-400 shadow-xl shadow-green text-white p-2",onClick:function(){return function(e){var t=l.firestore.FieldValue.arrayRemove;l.firestore().collection("Users").doc(c).update({requests:t(e)}).then(m.store.addNotification({title:"Request Denied!",message:"Don't worry, the requester won't know you denied their call",type:"danger",insert:"top",container:"top-left",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3,onScreen:!0}})).then(r)}(e)},children:"deny"})]})}))]})};var k=function(){var e=localStorage.getItem("username"),t=s.a.useState([]),a=Object(o.a)(t,2),n=a[0],c=a[1];return s.a.useEffect((function(){(function(){var t=Object(p.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=l.firestore(),a.collection("Users").doc(e).get().then((function(e){c(e.data().bookings)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{}),Object(u.jsx)("div",{className:"content-start m-10 text-white font-mono text-left",children:Object(u.jsx)("a",{href:"/home",className:"text-2xl",children:Object(u.jsx)("span",{className:"bg-gray-900 p-2",children:"Dream Call"})})}),Object(u.jsxs)("div",{className:"content-start text-left w-80 m-10 ml-10",children:[Object(u.jsx)("a",{href:"/home",className:"text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Home"})}),Object(u.jsx)("a",{href:"/requests",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"p-1",children:"Requests"})}),Object(u.jsx)("a",{href:"/bookings",className:"ml-10 text-black text-xl",children:Object(u.jsx)("span",{className:"bg-gray-200 p-1",children:"Bookings"})})]}),Object(u.jsxs)("div",{className:"content-start text-white font-mono text-left",children:[Object(u.jsx)("h1",{className:"ml-10 text-2xl text-black",children:"Bookings"}),Object(u.jsx)("p",{className:"mt-3 text-black text-sm text-gray-400 ml-10",children:"When people accept your meeting requests, you'll see links to book meetings on this page."})]}),Object(u.jsx)("div",{className:"mt-10 content-start mx-auto text-black font-mono text-left",children:n.map((function(e){return Object(u.jsxs)("button",{onClick:function(){return t=e,void l.firestore().collection("Users").doc(t).get().then((function(e){window.location=e.data().link}));var t},className:"bg-gray-50 underline p-2 text-lg ml-10",children:["Yay! ",Object(u.jsx)("span",{className:"text-blue-600",children:e})," has accepted your request, click here to book a meeting now."]})}))})]})};var w=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(x.a,{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",component:h,exact:!0}),Object(u.jsx)(j.a,{path:"/home",component:N}),Object(u.jsx)(j.a,{path:"/requests",component:v}),Object(u.jsx)(j.a,{path:"/bookings",component:k})]})})})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};a(92);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),y()}},[[93,1,2]]]);
//# sourceMappingURL=main.f618e4bb.chunk.js.map